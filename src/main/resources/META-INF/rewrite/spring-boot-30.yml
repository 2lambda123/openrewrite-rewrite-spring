#
# Copyright 2022 the original author or authors.
# <p>
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# <p>
# https://www.apache.org/licenses/LICENSE-2.0
# <p>
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
---
type: specs.openrewrite.org/v1beta/recipe
name: org.openrewrite.java.spring.boot3.UpgradeSpringBoot_3_0
displayName: Migrate to Spring Boot 3.0
description: >
  Migrate applications to the latest Spring Boot 3.0 release. This recipe will modify an
  application's build files, make changes to deprecated/preferred APIs, and migrate configuration settings that have
  changes between versions. This recipe will also chain additional framework migrations (Spring Framework, Spring Data,
  etc) that are required as part of the migration to Spring Boot 2.7.
tags:
  - spring
  - boot
recipeList:
  - org.openrewrite.java.spring.boot2.UpgradeSpringBoot_2_7
  - org.openrewrite.java.spring.boot3.RemoveEnableBatchProcessing
  - org.openrewrite.java.migrate.UpgradeToJava17
  - org.openrewrite.java.dependencies.UpgradeDependencyVersion:
      groupId: org.springframework.boot
      artifactId: "*"
      newVersion: 3.0.x
      overrideManagedVersion: false
      retainVersions:
        - org.thymeleaf:thymeleaf-spring5
        - org.thymeleaf.extras:thymeleaf-extras-springsecurity5
  - org.openrewrite.maven.UpgradeParentVersion:
      groupId: org.springframework.boot
      artifactId: spring-boot-starter-parent
      newVersion: 3.0.x
      retainVersions:
        - org.thymeleaf:thymeleaf-spring5
        - org.thymeleaf.extras:thymeleaf-extras-springsecurity5
  - org.openrewrite.gradle.plugins.UpgradePluginVersion:
      pluginIdPattern: org.springframework.boot
      newVersion: 3.0.x
  - org.openrewrite.gradle.plugins.UpgradePluginVersion:
      pluginIdPattern: io.spring.dependency-management
      newVersion: 1.1.x
  - org.openrewrite.gradle.UpdateGradleWrapper:
      version: ^7.4
      addIfMissing: false
  - org.openrewrite.java.migrate.jakarta.JavaxMigrationToJakarta
  - org.openrewrite.java.spring.boot3.RemoveConstructorBindingAnnotation
  - org.openrewrite.java.spring.boot2.MoveAutoConfigurationToImportsFile
  - org.openrewrite.java.spring.boot3.ActuatorEndpointSanitization
  - org.openrewrite.java.spring.boot3.MigrateMaxHttpHeaderSize
  - org.openrewrite.java.spring.boot3.DowngradeServletApiWhenUsingJetty
  - org.openrewrite.java.spring.boot3.ConfigurationOverEnableSecurity
  - org.openrewrite.java.spring.boot3.SpringBootProperties_3_0
  - org.openrewrite.java.spring.boot3.MigrateThymeleafDependencies
  - org.openrewrite.java.spring.boot3.UpgradeSpringDoc_2
  - org.openrewrite.java.spring.security6.UpgradeSpringSecurity_6_0
  - org.openrewrite.java.spring.cloud2022.UpgradeSpringCloud_2022
  - org.openrewrite.hibernate.MigrateToHibernate61
---
type: specs.openrewrite.org/v1beta/recipe
name: org.openrewrite.java.spring.boot3.ActuatorEndpointSanitization
displayName: Remove the deprecated properties `additional-keys-to-sanitize` from the `configprops` and `env` end points
description: Spring Boot 3.0 removed the key-based sanitization mechanism used in Spring Boot 2.x in favor of a unified approach. See https://github.com/openrewrite/rewrite-spring/issues/228
tags:
  - spring
  - boot
recipeList:
  - org.openrewrite.java.spring.DeleteSpringProperty:
      propertyKey: management.endpoint.configprops.additional-keys-to-sanitize
  - org.openrewrite.java.spring.DeleteSpringProperty:
      propertyKey: management.endpoint.env.additional-keys-to-sanitize

---

type: specs.openrewrite.org/v1beta/recipe
name: org.openrewrite.java.spring.boot3.MigrateMaxHttpHeaderSize
displayName: Rename `server.max-http-header-size` to `server.max-http-request-header-size`
description: >
  Previously, the server.max-http-header-size was treated inconsistently across the four supported embedded web servers.
  When using Jetty, Netty, or Undertow it would configure the max HTTP request header size. When using Tomcat it would
  configure the max HTTP request and response header sizes. The renamed property is used to configure the http request
  header size in Spring Boot 3.0. **To limit the max header size of an HTTP response on Tomcat or Jetty (the only two
  servers that support such a setting), use a `WebServerFactoryCustomizer`**.
tags:
  - spring
  - boot
recipeList:
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: server.max-http-header-size
      newPropertyKey: server.max-http-request-header-size

---
type: specs.openrewrite.org/v1beta/recipe
name: org.openrewrite.java.spring.boot3.MigrateThymeleafDependencies
displayName: Migrate thymeleaf dependencies to Spring Boot 3.x
description: Migrate thymeleaf dependencies to the new artifactId, since these are changed with Spring Boot 3.
tags:
  - spring
  - boot
  - thymeleaf
recipeList:
  - org.openrewrite.java.ChangePackage:
      oldPackageName: org.thymeleaf.spring5
      newPackageName: org.thymeleaf.spring6
  - org.openrewrite.maven.ChangeDependencyGroupIdAndArtifactId:
      oldGroupId: org.thymeleaf
      oldArtifactId: thymeleaf-spring5
      newArtifactId: thymeleaf-spring6
  - org.openrewrite.maven.ChangeDependencyGroupIdAndArtifactId:
      oldGroupId: org.thymeleaf.extras
      oldArtifactId: thymeleaf-extras-springsecurity5
      newArtifactId: thymeleaf-extras-springsecurity6
---
########################################################################################################################
# SpringBoot 3.0 Configuration Changes
type: specs.openrewrite.org/v1beta/recipe
name: org.openrewrite.java.spring.boot3.SpringBootProperties_3_0
displayName: Migrate Spring Boot properties to 3.0
description: Migrate properties found in `application.properties` and `application.yml`.
tags:
  - spring
  - boot
recipeList:
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.compression
      newPropertyKey: spring.cassandra.compression
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.config
      newPropertyKey: spring.cassandra.config
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.connection.connect-timeout
      newPropertyKey: spring.cassandra.connection.connect-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.connection.init-query-timeout
      newPropertyKey: spring.cassandra.connection.init-query-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.contact-points
      newPropertyKey: spring.cassandra.contact-points
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.controlconnection.timeout
      newPropertyKey: spring.cassandra.controlconnection.timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.keyspace-name
      newPropertyKey: spring.cassandra.keyspace-name
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.local-datacenter
      newPropertyKey: spring.cassandra.local-datacenter
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.password
      newPropertyKey: spring.cassandra.password
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.pool.heartbeat-interval
      newPropertyKey: spring.cassandra.pool.heartbeat-interval
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.pool.idle-timeout
      newPropertyKey: spring.cassandra.pool.idle-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.port
      newPropertyKey: spring.cassandra.port
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.request.consistency
      newPropertyKey: spring.cassandra.request.consistency
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.request.page-size
      newPropertyKey: spring.cassandra.request.page-size
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.request.serial-consistency
      newPropertyKey: spring.cassandra.request.serial-consistency
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.request.throttler.drain-interval
      newPropertyKey: spring.cassandra.request.throttler.drain-interval
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.request.throttler.max-concurrent-requests
      newPropertyKey: spring.cassandra.request.throttler.max-concurrent-requests
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.request.throttler.max-queue-size
      newPropertyKey: spring.cassandra.request.throttler.max-queue-size
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.request.throttler.max-requests-per-second
      newPropertyKey: spring.cassandra.request.throttler.max-requests-per-second
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.request.throttler.type
      newPropertyKey: spring.cassandra.request.throttler.type
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.request.timeout
      newPropertyKey: spring.cassandra.request.timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.schema-action
      newPropertyKey: spring.cassandra.schema-action
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.session-name
      newPropertyKey: spring.cassandra.session-name
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.ssl
      newPropertyKey: spring.cassandra.ssl
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.data.cassandra.username
      newPropertyKey: spring.cassandra.username
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.flyway.ignore-future-migrations
      newPropertyKey: spring.flyway.ignore-migration-patterns
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.flyway.ignore-ignored-migrations
      newPropertyKey: spring.flyway.ignore-migration-patterns
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.flyway.ignore-missing-migrations
      newPropertyKey: spring.flyway.ignore-migration-patterns
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.flyway.ignore-pending-migrations
      newPropertyKey: spring.flyway.ignore-migration-patterns
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.flyway.oracle-kerberos-config-file
      newPropertyKey: spring.flyway.kerberos-config-file
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.redis.client-name
      newPropertyKey: spring.data.redis.client-name
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.redis.client-type
      newPropertyKey: spring.data.redis.client-type
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.redis.cluster.max-redirects
      newPropertyKey: spring.data.redis.cluster.max-redirects
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.redis.cluster.nodes
      newPropertyKey: spring.data.redis.cluster.nodes
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.redis.connect-timeout
      newPropertyKey: spring.data.redis.connect-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.redis.database
      newPropertyKey: spring.data.redis.database
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.redis.host
      newPropertyKey: spring.data.redis.host
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.redis.lettuce.cluster.refresh.adaptive
      newPropertyKey: spring.data.redis.lettuce.cluster.refresh.adaptive
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.redis.lettuce.cluster.refresh.dynamic-refresh-sources
      newPropertyKey: spring.data.redis.lettuce.cluster.refresh.dynamic-refresh-sources
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.redis.lettuce.cluster.refresh.period
      newPropertyKey: spring.data.redis.lettuce.cluster.refresh.period
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.redis.lettuce.shutdown-timeout
      newPropertyKey: spring.data.redis.lettuce.shutdown-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.redis.password
      newPropertyKey: spring.data.redis.password
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.redis.port
      newPropertyKey: spring.data.redis.port
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.redis.sentinel.master
      newPropertyKey: spring.data.redis.sentinel.master
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.redis.sentinel.nodes
      newPropertyKey: spring.data.redis.sentinel.nodes
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.redis.sentinel.password
      newPropertyKey: spring.data.redis.sentinel.password
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.redis.sentinel.username
      newPropertyKey: spring.data.redis.sentinel.username
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.redis.ssl
      newPropertyKey: spring.data.redis.ssl
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.redis.timeout
      newPropertyKey: spring.data.redis.timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.redis.url
      newPropertyKey: spring.data.redis.url
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.redis.username
      newPropertyKey: spring.data.redis.username
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: spring.security.oauth2.resourceserver.jwt.jws-algorithm
      newPropertyKey: spring.security.oauth2.resourceserver.jwt.jws-algorithms
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.appoptics.api-token
      newPropertyKey: management.appoptics.metrics.export.api-token
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.appoptics.batch-size
      newPropertyKey: management.appoptics.metrics.export.batch-size
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.appoptics.connect-timeout
      newPropertyKey: management.appoptics.metrics.export.connect-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.appoptics.enabled
      newPropertyKey: management.appoptics.metrics.export.enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.appoptics.floor-times
      newPropertyKey: management.appoptics.metrics.export.floor-times
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.appoptics.host-tag
      newPropertyKey: management.appoptics.metrics.export.host-tag
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.appoptics.read-timeout
      newPropertyKey: management.appoptics.metrics.export.read-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.appoptics.step
      newPropertyKey: management.appoptics.metrics.export.step
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.appoptics.uri
      newPropertyKey: management.appoptics.metrics.export.uri
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.atlas.batch-size
      newPropertyKey: management.atlas.metrics.export.batch-size
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.atlas.config-refresh-frequency
      newPropertyKey: management.atlas.metrics.export.config-refresh-frequency
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.atlas.config-time-to-live
      newPropertyKey: management.atlas.metrics.export.config-time-to-live
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.atlas.config-uri
      newPropertyKey: management.atlas.metrics.export.config-uri
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.atlas.connect-timeout
      newPropertyKey: management.atlas.metrics.export.connect-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.atlas.enabled
      newPropertyKey: management.atlas.metrics.export.enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.atlas.eval-uri
      newPropertyKey: management.atlas.metrics.export.eval-uri
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.atlas.lwc-enabled
      newPropertyKey: management.atlas.metrics.export.lwc-enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.atlas.meter-time-to-live
      newPropertyKey: management.atlas.metrics.export.meter-time-to-live
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.atlas.num-threads
      newPropertyKey: management.atlas.metrics.export.num-threads
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.atlas.read-timeout
      newPropertyKey: management.atlas.metrics.export.read-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.atlas.step
      newPropertyKey: management.atlas.metrics.export.step
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.atlas.uri
      newPropertyKey: management.atlas.metrics.export.uri
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.datadog.api-key
      newPropertyKey: management.datadog.metrics.export.api-key
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.datadog.application-key
      newPropertyKey: management.datadog.metrics.export.application-key
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.datadog.batch-size
      newPropertyKey: management.datadog.metrics.export.batch-size
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.datadog.connect-timeout
      newPropertyKey: management.datadog.metrics.export.connect-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.datadog.descriptions
      newPropertyKey: management.datadog.metrics.export.descriptions
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.datadog.enabled
      newPropertyKey: management.datadog.metrics.export.enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.datadog.host-tag
      newPropertyKey: management.datadog.metrics.export.host-tag
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.datadog.num-threads
      newPropertyKey: management.datadog.metrics.export.num-threads
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.datadog.read-timeout
      newPropertyKey: management.datadog.metrics.export.read-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.datadog.step
      newPropertyKey: management.datadog.metrics.export.step
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.datadog.uri
      newPropertyKey: management.datadog.metrics.export.uri
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.defaults.enabled
      newPropertyKey: management.defaults.metrics.export.enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.dynatrace.api-token
      newPropertyKey: management.dynatrace.metrics.export.api-token
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.dynatrace.batch-size
      newPropertyKey: management.dynatrace.metrics.export.batch-size
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.dynatrace.connect-timeout
      newPropertyKey: management.dynatrace.metrics.export.connect-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.dynatrace.device-id
      newPropertyKey: management.dynatrace.metrics.export.device-id
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.dynatrace.enabled
      newPropertyKey: management.dynatrace.metrics.export.enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.dynatrace.group
      newPropertyKey: management.dynatrace.metrics.export.group
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.dynatrace.read-timeout
      newPropertyKey: management.dynatrace.metrics.export.read-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.dynatrace.step
      newPropertyKey: management.dynatrace.metrics.export.step
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.dynatrace.technology-type
      newPropertyKey: management.dynatrace.metrics.export.technology-type
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.dynatrace.uri
      newPropertyKey: management.dynatrace.metrics.export.uri
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.dynatrace.v1.device-id
      newPropertyKey: management.dynatrace.metrics.export.v1.device-id
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.dynatrace.v1.group
      newPropertyKey: management.dynatrace.metrics.export.v1.group
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.dynatrace.v1.technology-type
      newPropertyKey: management.dynatrace.metrics.export.v1.technology-type
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.dynatrace.v2.default-dimensions
      newPropertyKey: management.dynatrace.metrics.export.v2.default-dimensions
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.dynatrace.v2.enrich-with-dynatrace-metadata
      newPropertyKey: management.dynatrace.metrics.export.v2.enrich-with-dynatrace-metadata
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.dynatrace.v2.metric-key-prefix
      newPropertyKey: management.dynatrace.metrics.export.v2.metric-key-prefix
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.elastic.api-key-credentials
      newPropertyKey: management.elastic.metrics.export.api-key-credentials
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.elastic.auto-create-index
      newPropertyKey: management.elastic.metrics.export.auto-create-index
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.elastic.batch-size
      newPropertyKey: management.elastic.metrics.export.batch-size
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.elastic.connect-timeout
      newPropertyKey: management.elastic.metrics.export.connect-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.elastic.enabled
      newPropertyKey: management.elastic.metrics.export.enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.elastic.host
      newPropertyKey: management.elastic.metrics.export.host
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.elastic.index
      newPropertyKey: management.elastic.metrics.export.index
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.elastic.index-date-format
      newPropertyKey: management.elastic.metrics.export.index-date-format
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.elastic.index-date-separator
      newPropertyKey: management.elastic.metrics.export.index-date-separator
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.elastic.password
      newPropertyKey: management.elastic.metrics.export.password
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.elastic.pipeline
      newPropertyKey: management.elastic.metrics.export.pipeline
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.elastic.read-timeout
      newPropertyKey: management.elastic.metrics.export.read-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.elastic.step
      newPropertyKey: management.elastic.metrics.export.step
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.elastic.timestamp-field-name
      newPropertyKey: management.elastic.metrics.export.timestamp-field-name
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.elastic.user-name
      newPropertyKey: management.elastic.metrics.export.user-name
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.ganglia.addressing-mode
      newPropertyKey: management.ganglia.metrics.export.addressing-mode
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.ganglia.duration-units
      newPropertyKey: management.ganglia.metrics.export.duration-units
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.ganglia.enabled
      newPropertyKey: management.ganglia.metrics.export.enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.ganglia.host
      newPropertyKey: management.ganglia.metrics.export.host
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.ganglia.port
      newPropertyKey: management.ganglia.metrics.export.port
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.ganglia.protocol-version
      newPropertyKey: management.ganglia.metrics.export.protocol-version
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.ganglia.rate-units
      newPropertyKey: management.ganglia.metrics.export.rate-units
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.ganglia.step
      newPropertyKey: management.ganglia.metrics.export.step
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.ganglia.time-to-live
      newPropertyKey: management.ganglia.metrics.export.time-to-live
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.graphite.duration-units
      newPropertyKey: management.graphite.metrics.export.duration-units
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.graphite.enabled
      newPropertyKey: management.graphite.metrics.export.enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.graphite.graphite-tags-enabled
      newPropertyKey: management.graphite.metrics.export.graphite-tags-enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.graphite.host
      newPropertyKey: management.graphite.metrics.export.host
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.graphite.port
      newPropertyKey: management.graphite.metrics.export.port
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.graphite.protocol
      newPropertyKey: management.graphite.metrics.export.protocol
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.graphite.rate-units
      newPropertyKey: management.graphite.metrics.export.rate-units
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.graphite.step
      newPropertyKey: management.graphite.metrics.export.step
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.graphite.tags-as-prefix
      newPropertyKey: management.graphite.metrics.export.tags-as-prefix
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.humio.api-token
      newPropertyKey: management.humio.metrics.export.api-token
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.humio.batch-size
      newPropertyKey: management.humio.metrics.export.batch-size
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.humio.connect-timeout
      newPropertyKey: management.humio.metrics.export.connect-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.humio.enabled
      newPropertyKey: management.humio.metrics.export.enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.humio.read-timeout
      newPropertyKey: management.humio.metrics.export.read-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.humio.step
      newPropertyKey: management.humio.metrics.export.step
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.humio.tags
      newPropertyKey: management.humio.metrics.export.tags
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.humio.uri
      newPropertyKey: management.humio.metrics.export.uri
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.influx.api-version
      newPropertyKey: management.influx.metrics.export.api-version
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.influx.auto-create-db
      newPropertyKey: management.influx.metrics.export.auto-create-db
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.influx.batch-size
      newPropertyKey: management.influx.metrics.export.batch-size
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.influx.bucket
      newPropertyKey: management.influx.metrics.export.bucket
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.influx.compressed
      newPropertyKey: management.influx.metrics.export.compressed
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.influx.connect-timeout
      newPropertyKey: management.influx.metrics.export.connect-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.influx.consistency
      newPropertyKey: management.influx.metrics.export.consistency
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.influx.db
      newPropertyKey: management.influx.metrics.export.db
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.influx.enabled
      newPropertyKey: management.influx.metrics.export.enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.influx.num-threads
      newPropertyKey: management.influx.metrics.export.num-threads
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.influx.org
      newPropertyKey: management.influx.metrics.export.org
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.influx.password
      newPropertyKey: management.influx.metrics.export.password
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.influx.read-timeout
      newPropertyKey: management.influx.metrics.export.read-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.influx.retention-duration
      newPropertyKey: management.influx.metrics.export.retention-duration
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.influx.retention-policy
      newPropertyKey: management.influx.metrics.export.retention-policy
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.influx.retention-replication-factor
      newPropertyKey: management.influx.metrics.export.retention-replication-factor
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.influx.retention-shard-duration
      newPropertyKey: management.influx.metrics.export.retention-shard-duration
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.influx.step
      newPropertyKey: management.influx.metrics.export.step
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.influx.token
      newPropertyKey: management.influx.metrics.export.token
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.influx.uri
      newPropertyKey: management.influx.metrics.export.uri
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.influx.user-name
      newPropertyKey: management.influx.metrics.export.user-name
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.jmx.domain
      newPropertyKey: management.jmx.metrics.export.domain
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.jmx.enabled
      newPropertyKey: management.jmx.metrics.export.enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.jmx.step
      newPropertyKey: management.jmx.metrics.export.step
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.kairos.batch-size
      newPropertyKey: management.kairos.metrics.export.batch-size
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.kairos.connect-timeout
      newPropertyKey: management.kairos.metrics.export.connect-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.kairos.enabled
      newPropertyKey: management.kairos.metrics.export.enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.kairos.password
      newPropertyKey: management.kairos.metrics.export.password
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.kairos.read-timeout
      newPropertyKey: management.kairos.metrics.export.read-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.kairos.step
      newPropertyKey: management.kairos.metrics.export.step
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.kairos.uri
      newPropertyKey: management.kairos.metrics.export.uri
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.kairos.user-name
      newPropertyKey: management.kairos.metrics.export.user-name
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.newrelic.account-id
      newPropertyKey: management.newrelic.metrics.export.account-id
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.newrelic.api-key
      newPropertyKey: management.newrelic.metrics.export.api-key
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.newrelic.batch-size
      newPropertyKey: management.newrelic.metrics.export.batch-size
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.newrelic.client-provider-type
      newPropertyKey: management.newrelic.metrics.export.client-provider-type
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.newrelic.connect-timeout
      newPropertyKey: management.newrelic.metrics.export.connect-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.newrelic.enabled
      newPropertyKey: management.newrelic.metrics.export.enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.newrelic.event-type
      newPropertyKey: management.newrelic.metrics.export.event-type
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.newrelic.meter-name-event-type-enabled
      newPropertyKey: management.newrelic.metrics.export.meter-name-event-type-enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.newrelic.num-threads
      newPropertyKey: management.newrelic.metrics.export.num-threads
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.newrelic.read-timeout
      newPropertyKey: management.newrelic.metrics.export.read-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.newrelic.step
      newPropertyKey: management.newrelic.metrics.export.step
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.newrelic.uri
      newPropertyKey: management.newrelic.metrics.export.uri
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.prometheus.descriptions
      newPropertyKey: management.prometheus.metrics.export.descriptions
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.prometheus.enabled
      newPropertyKey: management.prometheus.metrics.export.enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.prometheus.histogram-flavor
      newPropertyKey: management.prometheus.metrics.export.histogram-flavor
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.prometheus.pushgateway.base-url
      newPropertyKey: management.prometheus.metrics.export.pushgateway.base-url
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.prometheus.pushgateway.enabled
      newPropertyKey: management.prometheus.metrics.export.pushgateway.enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.prometheus.pushgateway.grouping-key
      newPropertyKey: management.prometheus.metrics.export.pushgateway.grouping-key
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.prometheus.pushgateway.job
      newPropertyKey: management.prometheus.metrics.export.pushgateway.job
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.prometheus.pushgateway.password
      newPropertyKey: management.prometheus.metrics.export.pushgateway.password
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.prometheus.pushgateway.push-rate
      newPropertyKey: management.prometheus.metrics.export.pushgateway.push-rate
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.prometheus.pushgateway.shutdown-operation
      newPropertyKey: management.prometheus.metrics.export.pushgateway.shutdown-operation
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.prometheus.pushgateway.username
      newPropertyKey: management.prometheus.metrics.export.pushgateway.username
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.prometheus.step
      newPropertyKey: management.prometheus.metrics.export.step
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.signalfx.access-token
      newPropertyKey: management.signalfx.metrics.export.access-token
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.signalfx.batch-size
      newPropertyKey: management.signalfx.metrics.export.batch-size
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.signalfx.connect-timeout
      newPropertyKey: management.signalfx.metrics.export.connect-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.signalfx.enabled
      newPropertyKey: management.signalfx.metrics.export.enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.signalfx.num-threads
      newPropertyKey: management.signalfx.metrics.export.num-threads
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.signalfx.read-timeout
      newPropertyKey: management.signalfx.metrics.export.read-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.signalfx.source
      newPropertyKey: management.signalfx.metrics.export.source
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.signalfx.step
      newPropertyKey: management.signalfx.metrics.export.step
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.signalfx.uri
      newPropertyKey: management.signalfx.metrics.export.uri
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.simple.enabled
      newPropertyKey: management.simple.metrics.export.enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.simple.mode
      newPropertyKey: management.simple.metrics.export.mode
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.simple.step
      newPropertyKey: management.simple.metrics.export.step
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.stackdriver.batch-size
      newPropertyKey: management.stackdriver.metrics.export.batch-size
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.stackdriver.connect-timeout
      newPropertyKey: management.stackdriver.metrics.export.connect-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.stackdriver.enabled
      newPropertyKey: management.stackdriver.metrics.export.enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.stackdriver.project-id
      newPropertyKey: management.stackdriver.metrics.export.project-id
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.stackdriver.read-timeout
      newPropertyKey: management.stackdriver.metrics.export.read-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.stackdriver.resource-labels
      newPropertyKey: management.stackdriver.metrics.export.resource-labels
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.stackdriver.resource-type
      newPropertyKey: management.stackdriver.metrics.export.resource-type
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.stackdriver.step
      newPropertyKey: management.stackdriver.metrics.export.step
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.stackdriver.use-semantic-metric-types
      newPropertyKey: management.stackdriver.metrics.export.use-semantic-metric-types
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.statsd.enabled
      newPropertyKey: management.statsd.metrics.export.enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.statsd.flavor
      newPropertyKey: management.statsd.metrics.export.flavor
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.statsd.host
      newPropertyKey: management.statsd.metrics.export.host
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.statsd.max-packet-length
      newPropertyKey: management.statsd.metrics.export.max-packet-length
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.statsd.polling-frequency
      newPropertyKey: management.statsd.metrics.export.polling-frequency
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.statsd.port
      newPropertyKey: management.statsd.metrics.export.port
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.statsd.protocol
      newPropertyKey: management.statsd.metrics.export.protocol
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.statsd.publish-unchanged-meters
      newPropertyKey: management.statsd.metrics.export.publish-unchanged-meters
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.wavefront.api-token
      newPropertyKey: management.wavefront.metrics.export.api-token
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.wavefront.batch-size
      newPropertyKey: management.wavefront.sender.batch-size
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.wavefront.connect-timeout
      newPropertyKey: management.wavefront.metrics.export.connect-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.wavefront.enabled
      newPropertyKey: management.wavefront.metrics.export.enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.wavefront.global-prefix
      newPropertyKey: management.wavefront.metrics.export.global-prefix
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.wavefront.num-threads
      newPropertyKey: management.wavefront.metrics.export.num-threads
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.wavefront.read-timeout
      newPropertyKey: management.wavefront.metrics.export.read-timeout
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.wavefront.sender.flush-interval
      newPropertyKey: management.wavefront.sender.flush-interval
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.wavefront.sender.max-queue-size
      newPropertyKey: management.wavefront.sender.max-queue-size
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.wavefront.sender.message-size
      newPropertyKey: management.wavefront.sender.message-size
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.wavefront.source
      newPropertyKey: management.wavefront.source
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.wavefront.step
      newPropertyKey: management.wavefront.metrics.export.step
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.metrics.export.wavefront.uri
      newPropertyKey: management.wavefront.uri
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.trace.http.enabled
      newPropertyKey: management.httpexchanges.recording.enabled
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.trace.http.include
      newPropertyKey: management.httpexchanges.recording.include
  - org.openrewrite.java.spring.ChangeSpringPropertyKey:
      oldPropertyKey: management.trace.include
      newPropertyKey: management.httpexchanges.recording.include
---
type: specs.openrewrite.org/v1beta/recipe

name: org.openrewrite.java.spring.boot3.UpgradeSpringDoc_2
displayName: Upgrade to springodc-openapi 2
description: >
  Migrate applications to the latest spring-doc 2 release. This recipe will modify an
  application's build files and make changes code changes for removed/updated APIs.
  See the [upgrade guide](https://springdoc.org/#migrating-from-springdoc-v1)
tags:
  - spring
recipeList:
  - org.openrewrite.java.dependencies.RemoveDependency:
      groupId: org.springdoc
      artifactId: springdoc-openapi-data-rest
  - org.openrewrite.java.dependencies.RemoveDependency:
      groupId: org.springdoc
      artifactId: springdoc-openapi-groovy
  - org.openrewrite.java.dependencies.RemoveDependency:
      groupId: org.springdoc
      artifactId: springdoc-openapi-hateoas
  - org.openrewrite.java.dependencies.RemoveDependency:
      groupId: org.springdoc
      artifactId: springdoc-openapi-javadoc
  - org.openrewrite.java.dependencies.RemoveDependency:
      groupId: org.springdoc
      artifactId: springdoc-openapi-kotlin
  - org.openrewrite.java.dependencies.RemoveDependency:
      groupId: org.springdoc
      artifactId: springdoc-openapi-security
  - org.openrewrite.java.dependencies.ChangeDependency:
      oldGroupId: org.springdoc
      oldArtifactId: springdoc-openapi-common
      newArtifactId: springdoc-openapi-starter-common
      newVersion: 2.x
  - org.openrewrite.java.dependencies.ChangeDependency:
      oldGroupId: org.springdoc
      oldArtifactId: springdoc-openapi-webmvc-core
      newArtifactId: springdoc-openapi-starter-webmvc-api
      newVersion: 2.x
  - org.openrewrite.java.dependencies.ChangeDependency:
      oldGroupId: org.springdoc
      oldArtifactId: springdoc-openapi-webflux-core
      newArtifactId: springdoc-openapi-starter-webflux-api
      newVersion: 2.x
  - org.openrewrite.java.dependencies.ChangeDependency:
      oldGroupId: org.springdoc
      oldArtifactId: springdoc-openapi-ui
      newArtifactId: springdoc-openapi-starter-webmvc-ui
      newVersion: 2.x
  - org.openrewrite.java.dependencies.ChangeDependency:
      oldGroupId: org.springdoc
      oldArtifactId: springdoc-openapi-webflux-ui
      newArtifactId: springdoc-openapi-starter-webflux-ui
      newVersion: 2.x
  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: org.springdoc.core.SpringDocUtils
      newFullyQualifiedTypeName: org.springdoc.core.utils.SpringDocUtils
  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: org.springdoc.api.annotations.ParameterObject
      newFullyQualifiedTypeName: org.springdoc.core.annotations.ParameterObject
  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: org.springdoc.core.GroupedOpenApi
      newFullyQualifiedTypeName: org.springdoc.core.models.GroupedOpenApi
  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: org.springdoc.core.customizers.OpenApiCustomiser
      newFullyQualifiedTypeName: org.springdoc.core.customizers.OpenApiCustomizer
  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: org.springdoc.core.Constants
      newFullyQualifiedTypeName: org.springdoc.core.utils.Constants
  - org.openrewrite.java.ChangeType:
      oldFullyQualifiedTypeName: org.springdoc.core.SwaggerUiConfigParameters
      newFullyQualifiedTypeName: org.springdoc.core.properties.SwaggerUiConfigParameters
  - org.openrewrite.java.ChangeMethodName:
      methodPattern: org.springdoc.core.models.GroupedOpenApi.Builder addOpenApiCustomiser(..)
      newMethodName: addOpenApiCustomizer
      matchOverrides: true
